// Generated by CoffeeScript 1.6.3
var app;

app = angular.module('synappse', []);

app.controller('tasks', function($scope) {
  $scope.tasks = (JSON.parse(localStorage['tasks'])) || [];
  $scope.save = function() {
    localStorage['tasks'] = JSON.stringify($scope.tasks);
    return console.log($scope.tasks);
  };
  return $scope.addTask = function() {
    var id;
    if ($scope.tasks.length) {
      id = $scope.tasks[$scope.tasks.length - 1].id + 1;
    }
    $scope.tasks.push({
      id: id || 1,
      name: $scope.taskName
    });
    $scope.taskName = '';
    return $scope.save();
  };
});

app.controller('task', function($scope) {
  return $scope.deleteTask = function() {
    var index, task;
    index = ((function() {
      var _i, _len, _ref, _results;
      _ref = $scope.tasks;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        task = _ref[_i];
        _results.push(task.id);
      }
      return _results;
    })()).indexOf($scope.task.id);
    $scope.tasks.splice(index, 1);
    return $scope.save();
  };
});

/* --------------------------------------------
     Begin filters.coffee
--------------------------------------------
*/


/* --------------------------------------------
     Begin services.coffee
--------------------------------------------
*/


/* --------------------------------------------
     Begin directives.coffee
--------------------------------------------
*/


/* --------------------------------------------
     Begin controllers.coffee
--------------------------------------------
*/

